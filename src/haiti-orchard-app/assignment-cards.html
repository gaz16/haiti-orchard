<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<dom-module id="assignment-cards">

  <script>
    Polymer({
      is: 'assignment-cards',
      properties: {
        key: {
          type: String,
        },
        orchard: {
          type: String,
        },
        status: {
          type: String,
        },
        deadline: {
          type: String,
        },
        trees: {
          type: Array,
        },
        padding: {
          value: '16px'
        },
        margin: {
          value: '24px'
        },
        boxShadow: {
          value: '0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)'
        }
      },
      observers: [
        '_render(key, orchard, status, deadline, trees, padding, margin, boxShadow)'
      ],
      ready: function() {
        this.style.display = 'block';
      },
      _render: function(key, orchard, status, deadline, trees, padding, margin, boxShadow) {
        if (orchard !== undefined) {
            console.log(trees);
            var treeList = '';
            for (var i = 0; i < trees.length; i++) {
              treeList += this.get(["trees", i]);
              if(i != trees.length - 1) {
                treeList += ", ";
              }
            }
            var html = '';
            html +=
              '<div style="box-shadow: ' + boxShadow +  '; padding: ' + padding + '; margin: ' + margin + '; border-radius: 5px; background-color: #fff; color: #757575;">' +
              '<div style="display: inline-block; height: 64px; width: 64px; border-radius: 50%; background: #ddd; line-height: 64px; font-size: 30px; color: #555; text-align: center;">' + (parseInt(key) + 1) + '</div>' +
              '<div style="font-size: 22px; margin: 16px 0; color: #212121;">' + orchard + '</div>' +
              '<p style="font-size: 16px;">' + status + '</p>' +
              '<p style="font-size: 14px;">' + deadline + '</p>' +
              '<p style="font-size: 14px;">' + treeList + '</p>' +
              '</div>';
            this.innerHTML += html;
        }
      }
    });
  </script>
</dom-module>
